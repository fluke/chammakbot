<html devsite="">
<head>
<title>gcloud compute target-pools set-backup</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="project_path" value="/sdk/_project.yaml">
<meta name="book_path" value="/sdk/_book.yaml">
<!--
        THIS DOC IS GENERATED.  DO NOT EDIT.
        -->
<style>
  dd { margin-bottom: 1ex; }
  .hangingindent { padding-left: 1.5em; text-indent: -1.5em; }
</style>
</head>
<body><dl>
<section>
<dt>NAME</dt>
<dd>gcloud compute target-pools set-backup - set a backup pool for a target pool</dd>
</section><section>
<dt>SYNOPSIS</dt>
<dd><pre>gcloud compute target-pools set-backup NAME --backup-pool BACKUP_POOL [--failover-ratio FAILOVER_RATIO] [--region REGION] [GLOBAL-FLAG â€¦]</pre></dd>
</section><section>
<dt>DESCRIPTION</dt>
<dd>
<code>gcloud compute target-pools set-backup</code> is used to set a backup target pool for a primary
target pool, which defines the fallback behavior of the primary
pool. If the ratio of the healthy instances in the primary pool
is at or below the specified <code><var>--failover-ratio value</var></code>, then traffic
arriving at the load-balanced IP address will be directed to the
backup pool.</dd>
</section><section>
<dt>POSITIONAL ARGUMENTS</dt>
<dd><dl>
<dt class="hangingindent">
<code><var>NAME</var></code>
</dt>

<dd>
The name of the target pool for which to set the backup pool.
</dd>

</dl></dd>
</section><section>
<dt>FLAGS</dt>
<dd><dl>
<dt>
<code>--backup-pool</code> <code><var>BACKUP_POOL</var></code>
</dt>

<dd>
Name of the target pool that will serve as backup. If this flag is provided without a value, the existing backup pool is removed.
</dd>


<dt>
<code>--failover-ratio</code> <code><var>FAILOVER_RATIO</var></code>
</dt>

<dd>
The new failover ratio value for the target pool. This must be a float in the range of [0, 1].
</dd>


<dt>
<code>--region</code> <code><var>REGION</var></code>
</dt>

<dd>
The region of the target pool to set a backup pool for. If not specified, you will be prompted to select a region.
</dd>
<dd>To avoid prompting when this flag is omitted, you can set the
<code><var>compute/region</var></code> property:</dd>
<dd><pre>$ <A href="../../config/set">gcloud config set</A> compute/region REGION</pre></dd>
<dd>A list of regions can be fetched by running:</dd>
<dd><pre>$ <A href="../../compute/regions/list">gcloud compute regions list</A></pre></dd>
<dd>To unset the property, run:</dd>
<dd><pre>$ <A href="../../config/unset">gcloud config unset</A> compute/region</pre></dd>
<dd>Alternatively, the region can be stored in the environment
variable <code><var>CLOUDSDK_COMPUTE_REGION</var></code>.</dd>

</dl></dd>
</section><section>
<dt>GLOBAL FLAGS</dt>
<dd>Run <code>$ <a href="../../">gcloud</a> help</code> for a description of flags available to
all commands.</dd>
</section><section>
<dt>EXAMPLES</dt>
<dd>To cause <code><var>TARGET-POOL</var></code> (in region <code><var>us-central1</var></code>) to fail over
to <code><var>BACKUP-POOL</var></code> when more than half of the <code><var>TARGET-POOL</var></code>
instances are unhealthy, run:</dd>
<dd><pre>$ <A href="../../compute/target-pools/set-backup">gcloud compute target-pools set-backup</A> TARGET-POOL \
    --backup-pool BACKUP-POOL --failover-ratio 0.5 \
    --region us-central1</pre></dd>
<dd>To remove <code><var>BACKUP-POOL</var></code> as a backup to <code><var>TARGET-POOL</var></code>, run:</dd>
<dd><pre>$ <A href="../../compute/target-pools/set-backup">gcloud compute target-pools set-backup</A> TARGET-POOL --backup-pool \
    --region us-central1</pre></dd>
</section><section>
<dt>NOTES</dt>
<dd>This command is in the Google Cloud SDK <code>compute</code> component. See
<a href="/sdk/gcloud/#gcloud.components">installing components</a>
if it is not installed.</dd>
</section>
</dl></body>
</html>

