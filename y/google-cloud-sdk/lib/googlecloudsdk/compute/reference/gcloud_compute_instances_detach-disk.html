<html devsite="">
<head>
<title>gcloud compute instances detach-disk</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="project_path" value="/sdk/_project.yaml">
<meta name="book_path" value="/sdk/_book.yaml">
<!--
        THIS DOC IS GENERATED.  DO NOT EDIT.
        -->
<style>
  dd { margin-bottom: 1ex; }
  .hangingindent { padding-left: 1.5em; text-indent: -1.5em; }
</style>
</head>
<body><dl>
<section>
<dt>NAME</dt>
<dd>gcloud compute instances detach-disk - detach disks from Compute Engine virtual machine instances</dd>
</section><section>
<dt>SYNOPSIS</dt>
<dd><pre>gcloud compute instances detach-disk NAME [--device-name DEVICE_NAME | --disk DISK] [--zone ZONE] [GLOBAL-FLAG …]</pre></dd>
</section><section>
<dt>DESCRIPTION</dt>
<dd>
<code>gcloud compute instances detach-disk</code> is used to detach disks from virtual machines.</dd>
<dd>Detaching a disk without first unmounting it may result in
incomplete I/O operations and data corruption.
To unmount a persistent disk on a Linux-based image,
ssh into the instance and run:</dd>
<dd><pre>$ sudo umount /dev/disk/by-id/google-DEVICE_NAME</pre></dd>
</section><section>
<dt>POSITIONAL ARGUMENTS</dt>
<dd><dl>
<dt class="hangingindent">
<code><var>NAME</var></code>
</dt>

<dd>
The name of the instance to detach the disk from.
</dd>

</dl></dd>
</section><section>
<dt>FLAGS</dt>
<dd><dl>
<dt>
<code>--device-name</code> <code><var>DEVICE_NAME</var></code>
</dt>

<dd>
Specifies a disk to detach by its device name, which is the name
that the guest operating system sees. The device name is set
at the time that the disk is attached to the instance, and needs not be
the same as the persistent disk name. If the disk’s device name is
specified, then its persistent disk name must not be specified
using the <code><var>--disk</var></code> flag.
</dd>


<dt>
<code>--disk</code> <code><var>DISK</var></code>
</dt>

<dd>
Specifies a disk to detach by its resource name. If you specify a
disk to remove by persistent disk name, then you must not specify its
device name using the <code><var>--device-name</var></code> flag.
</dd>


<dt>
<code>--zone</code> <code><var>ZONE</var></code>
</dt>

<dd>
The zone of the instance to detach a disk from. If not specified, you will be prompted to select a zone.
</dd>
<dd>To avoid prompting when this flag is omitted, you can set the
<code><var>compute/zone</var></code> property:</dd>
<dd><pre>$ <A href="../../config/set">gcloud config set</A> compute/zone ZONE</pre></dd>
<dd>A list of zones can be fetched by running:</dd>
<dd><pre>$ <A href="../../compute/zones/list">gcloud compute zones list</A></pre></dd>
<dd>To unset the property, run:</dd>
<dd><pre>$ <A href="../../config/unset">gcloud config unset</A> compute/zone</pre></dd>
<dd>Alternatively, the zone can be stored in the environment variable
<code><var>CLOUDSDK_COMPUTE_ZONE</var></code>.</dd>

</dl></dd>
</section><section>
<dt>GLOBAL FLAGS</dt>
<dd>Run <code>$ <a href="../../">gcloud</a> help</code> for a description of flags available to
all commands.</dd>
</section><section>
<dt>NOTES</dt>
<dd>This command is in the Google Cloud SDK <code>compute</code> component. See
<a href="/sdk/gcloud/#gcloud.components">installing components</a>
if it is not installed.</dd>
</section>
</dl></body>
</html>

